import{S as q,i as C,s as G,e as y,t as S,k as B,c as k,a as E,h as N,d as m,m as T,b as I,g as j,J as v,L as x,l as z,K as H,D as ee,M as te,N as le,O as A,j as se,w as K,x as L,y as M,P as oe,q as P,o as Q,B as Z,Q as ne,R as J,T as D}from"../chunks/vendor-3d5b2c3f.js";function F(r){let t,e,l,s,o,i,u,h,w,p;function d(f,_){if(f[1]==="won")return ie;if(f[1]==="lost")return re}let n=d(r),a=n&&n(r);return{c(){t=y("div"),e=y("div"),l=y("button"),s=S("x"),o=B(),a&&a.c(),i=B(),u=y("button"),h=S("Copy results"),this.h()},l(f){t=k(f,"DIV",{class:!0});var _=E(t);e=k(_,"DIV",{class:!0});var c=E(e);l=k(c,"BUTTON",{class:!0});var b=E(l);s=N(b,"x"),b.forEach(m),o=T(c),a&&a.l(c),i=T(c),u=k(c,"BUTTON",{});var g=E(u);h=N(g,"Copy results"),g.forEach(m),c.forEach(m),_.forEach(m),this.h()},h(){I(l,"class","close svelte-1e483gp"),I(e,"class","dialog svelte-1e483gp"),I(t,"class","wrap svelte-1e483gp")},m(f,_){j(f,t,_),v(t,e),v(e,l),v(l,s),v(e,o),a&&a.m(e,null),v(e,i),v(e,u),v(u,h),w||(p=x(l,"click",r[2]),w=!0)},p(f,_){n!==(n=d(f))&&(a&&a.d(1),a=n&&n(f),a&&(a.c(),a.m(e,i)))},d(f){f&&m(t),a&&a.d(),w=!1,p()}}}function re(r){let t,e;return{c(){t=y("h1"),e=S("you'll get it next time.")},l(l){t=k(l,"H1",{});var s=E(t);e=N(s,"you'll get it next time."),s.forEach(m)},m(l,s){j(l,t,s),v(t,e)},d(l){l&&m(t)}}}function ie(r){let t,e;return{c(){t=y("h1"),e=S("nice job!")},l(l){t=k(l,"H1",{});var s=E(t);e=N(s,"nice job!"),s.forEach(m)},m(l,s){j(l,t,s),v(t,e)},d(l){l&&m(t)}}}function ae(r){let t,e=r[0]&&F(r);return{c(){e&&e.c(),t=z()},l(l){e&&e.l(l),t=z()},m(l,s){e&&e.m(l,s),j(l,t,s)},p(l,[s]){l[0]?e?e.p(l,s):(e=F(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:H,o:H,d(l){e&&e.d(l),l&&m(t)}}}function ce(r,t,e){let{outcome:l}=t,{show:s=!1}=t;console.log(l);const o=()=>e(0,s=!1);return r.$$set=i=>{"outcome"in i&&e(1,l=i.outcome),"show"in i&&e(0,s=i.show)},[s,l,o]}class fe extends q{constructor(t){super();C(this,t,ce,ae,G,{outcome:1,show:0})}}const R=(r,t)=>{const e=ee(window.localStorage.getItem(r)?JSON.parse(window.localStorage.getItem(r)):t);return e.subscribe(l=>{window.localStorage.setItem(r,JSON.stringify(l))}),e},ue=(r,t)=>{let e=[];for(let l=0;l<r;l++){let s=[];for(let o=0;o<t;o++)s.push({});e.push(s)}return e},O=R("grid",ue(6,5));function X(r,t,e){const l=r.slice();return l[13]=t[e].key,l[14]=t[e].type,l}function Y(r){let t,e=(r[13]?r[13]:"")+"",l,s;return{c(){t=y("div"),l=S(e),this.h()},l(o){t=k(o,"DIV",{class:!0});var i=E(t);l=N(i,e),i.forEach(m),this.h()},h(){I(t,"class",s=""+(A("letter "+r[14])+" svelte-1p319uo"))},m(o,i){j(o,t,i),v(t,l)},p(o,i){i&4&&e!==(e=(o[13]?o[13]:"")+"")&&se(l,e),i&4&&s!==(s=""+(A("letter "+o[14])+" svelte-1p319uo"))&&I(t,"class",s)},d(o){o&&m(t)}}}function de(r){let t,e,l,s,o,i,u;function h(n){r[12](n)}let w={outcome:r[0]};r[1]!==void 0&&(w.show=r[1]),t=new fe({props:w}),te.push(()=>le(t,"show",h));let p=r[2].flat(),d=[];for(let n=0;n<p.length;n+=1)d[n]=Y(X(r,p,n));return{c(){K(t.$$.fragment),l=B(),s=y("div");for(let n=0;n<d.length;n+=1)d[n].c();this.h()},l(n){L(t.$$.fragment,n),l=T(n),s=k(n,"DIV",{class:!0});var a=E(s);for(let f=0;f<d.length;f+=1)d[f].l(a);a.forEach(m),this.h()},h(){I(s,"class","grid svelte-1p319uo")},m(n,a){M(t,n,a),j(n,l,a),j(n,s,a);for(let f=0;f<d.length;f+=1)d[f].m(s,null);o=!0,i||(u=x(window,"keydown",r[11]),i=!0)},p(n,[a]){const f={};if(a&1&&(f.outcome=n[0]),!e&&a&2&&(e=!0,f.show=n[1],oe(()=>e=!1)),t.$set(f),a&4){p=n[2].flat();let _;for(_=0;_<p.length;_+=1){const c=X(n,p,_);d[_]?d[_].p(c,a):(d[_]=Y(c),d[_].c(),d[_].m(s,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=p.length}},i(n){o||(P(t.$$.fragment,n),o=!0)},o(n){Q(t.$$.fragment,n),o=!1},d(n){Z(t,n),n&&m(l),n&&m(s),ne(d,n),i=!1,u()}}}let U=5,V=6;function _e(r,t,e){let l,s,o;J(r,O,c=>e(2,l=c));let{word:i="arise"}=t;console.log(O),console.log(l);let u=R("row",0);J(r,u,c=>e(4,o=c));let h=R("col",0);J(r,h,c=>e(3,s=c));let w,p=!1;function d(){e(1,p=!0),e(0,w="won")}function n(){e(1,p=!0),e(0,w="lost")}function a(c){let b=[];if(c.length!==i.length)throw new Error("Word and guess are not the same length.");for(let g=0;g<c.length;g++){const $=c[g],W=i.indexOf($);W===g?b.push("correct"):W===-1?b.push("wrong"):b.push("partial")}return b}const f=({key:c})=>{if(/^[A-Za-z]$/.exec(c)&&s<U&&o<V&&(D(O,l[o][s].key=c,l),D(h,s+=1,s)),c==="Backspace"&&s>0&&o<V&&(D(h,s-=1,s),D(O,l[o][s].key=void 0,l)),c==="Enter"&&s===U&&o<V){let b=a(l[o].map(g=>g.key));for(let g=0;g<U;g++)D(O,l[o][g].type=b[g],l);if(D(h,s=0,s),D(u,o+=1,o),b.every(g=>g==="correct")){d();return}o===V&&n()}};function _(c){p=c,e(1,p)}return r.$$set=c=>{"word"in c&&e(10,i=c.word)},[w,p,l,s,o,u,h,d,n,a,i,f,_]}class he extends q{constructor(t){super();C(this,t,_e,de,G,{word:10})}}function me(r){let t,e,l,s,o,i;return o=new he({}),{c(){t=y("div"),e=y("h1"),l=S("wordle clone - v2"),s=B(),K(o.$$.fragment),this.h()},l(u){t=k(u,"DIV",{class:!0});var h=E(t);e=k(h,"H1",{class:!0});var w=E(e);l=N(w,"wordle clone - v2"),w.forEach(m),s=T(h),L(o.$$.fragment,h),h.forEach(m),this.h()},h(){I(e,"class","svelte-1mdpjyq"),I(t,"class","wrap svelte-1mdpjyq")},m(u,h){j(u,t,h),v(t,e),v(e,l),v(t,s),M(o,t,null),i=!0},p:H,i(u){i||(P(o.$$.fragment,u),i=!0)},o(u){Q(o.$$.fragment,u),i=!1},d(u){u&&m(t),Z(o)}}}class pe extends q{constructor(t){super();C(this,t,null,me,G,{})}}export{pe as default};
